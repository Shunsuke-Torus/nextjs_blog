---
title: '構音障害アプリの開発'
date: '2023-03-25'
---

# 1. 概要

**『こえポン』は、構音障害をはじめとして、様々な原因で発声が上手くいかずコミュニケーションに不自由を感じている方の会話をサポートするアプリです。**

# 2. 目次
- [1. 概要](#1-概要)
- [2. 目次](#2-目次)
- [3. 開発の背景](#3-開発の背景)
- [4. サービス概要と使い方](#4-サービス概要と使い方)
  - [4.1. フレーズ読み上げ機能](#41-フレーズ読み上げ機能)
  - [4.2. メモ機能](#42-メモ機能)
  - [4.3. スマホを振った際に呼び出す機能](#43-スマホを振った際に呼び出す機能)
- [5. ユーザーのターゲット層](#5-ユーザーのターゲット層)
- [6. 開発人数](#6-開発人数)
- [7. 工夫した点](#7-工夫した点)
- [8. 苦労した点](#8-苦労した点)
- [9. 主な使用技術](#9-主な使用技術)
  - [9.1. 言語・フレームワーク](#91-言語フレームワーク)
  - [9.2. パッケージ](#92-パッケージ)
- [10. 技術選定理由](#10-技術選定理由)
- [11. 今後について](#11-今後について)
- [12. 最後に](#12-最後に)


# 3. 開発の背景

構音障害を抱える人々は、会話ができないことが日常生活に大きな影響を与えています。

とくに緊急連絡や日常会話が困難なことから、支援アプリの開発に取り組みました。

スマートフォンが身近にあることから、簡単な操作で会話ができるアプリを開発することで、彼らを支援できると考え開発しました｡

アプリ名:[構音障害サポートアプリ-こえポン](https://apps.apple.com/au/app/id1672896276)

# 4. サービス概要と使い方

## 4.1. フレーズ読み上げ機能
アプリ内には、よく使う日常会話のフレーズがボタンとして用意されており、**ボタンを押すだけで音声として出力されます。** 

|ホーム|ホットドリンク|
|:--|:--|
|!["ホーム画面"](/images/newDysarthriaSupportApp/home.jpeg)|!["ホットドリンク画面"](/images/newDysarthriaSupportApp/hotDrink.jpeg)|


## 4.2. メモ機能
指で書くことができるメモ機能もあるため、それを使って自分が伝えたいことを書き込むこともできます。
|メモ|
|:--|
|!["メモ画面"](/images/newDysarthriaSupportApp/memo.jpeg)|


## 4.3. スマホを振った際に呼び出す機能
さらに、アプリ内には人を呼ぶ機能も搭載されており、スマホを振るだけで「〜さん来て下さい」と呼びかけることができます。
|呼び出し|
|:--|
|!["メモ画面"](/images/newDysarthriaSupportApp/call.jpeg)|

# 5. ユーザーのターゲット層
* 構音障害を抱えている人
* 声帯摘出手術を受けた方
* 緊張などで、発生がうまくいかず不自由を感じている方
* 「ありがとう」などの日頃の気持ちを言いにくい人

# 6. 開発人数
* 仕様、UI:2人
* 機能の実装:2人

# 7. 工夫した点
1. UIについて 
   
    文字カードの配置において、GridViewとListViewの視認性はどちらが上かアンケート情報からListViewを選択しました

    文字カードの枠線において、マテリアルデザインのようなフラットなボタンに影をつけて立体にするよりも、カテゴリーに分けて色をつけるといった方が好む結果がアンケートで得られたので様々な色をつけました。

2. 機能について 
   
   高齢者などは、ボタンを長く押すことが多いことから誤動作が多い。ユーザビリティを高めるために、長く押しても短く押しても同じ動作をすることによって、誤動作をなくして、利便性を向上させた。

   読み上げ速度において、認識力が人ごとに異なることから、様々な人に聞きやすいスピードに調整しました。

# 8. 苦労した点
1. プラットフォームの違い: 

    iOSとAndroidなど、異なるプラットフォームでアプリを動かす場合、それぞれのプラットフォームによって挙動が異なることがあります。特に､iPhone版では､カラム落ちなどによってUIが崩れたことがありました｡そのため､プラットフォームで同じように動作させるために、コードの微調整を行うことで問題を解決致しました｡  
2. パッケージの問題: 
   
   shakeパッケージには､スマホを振ると特定の動作をさせることができます｡しかし､画面遷移すると､画面遷移回数分動作するバグがありました｡画面がスタックするごとに生じることから､`pushReplacementNamed`で画面を置換することでバグを回避しました｡
   <details>
    <summary>
        追記
    </summary>

    もちろん、Statefulなら`initState`と`dispose`にて
    ```dart
        Shake.detector.startListening()
        Shake.detector.stopListening()
    ```
    を挿入するのがおすすめ
   </details>
3. iPhoneにおけるアクセシビリティの問題:
   
   iPhoneは､個人の裁量でテキストサイズを設定から変更することができます｡しかし､テキストサイズを自由に変更すると､想定されていないUIが描画されました｡そのため､`MediaQuery`にある`textScaleFactor`にて指定することによって､端末側のテキストサイズの変更を上書きする設定を行いました｡

# 9. 主な使用技術
主な使用技術は以下の通りになります。

## 9.1. 言語・フレームワーク
* Dart
* Flutter

## 9.2. パッケージ

* flutter_tts: ^3.6.3
* painter: ^2.0.0
* shake: ^2.2.0
* flutter_launcher_icons: ^0.11.0

# 10. 技術選定理由

初めてのモバイルアプリ開発にあたり、ネイティブアプリ開発以外の選択肢としてReact Nativeも検討しましたが、AndroidとiOS両方で開発する場合、**コード量が減り、開発速度が向上する点** から、クロスプラットフォームのFlutterに絞ることにしました。

また、ReactおよびNext.jsを利用していた経験から、コンポーネント概念には馴染みがありましたが、**Flutterの提供するUIウィジェットがとても便利で使いやすいと感じたため、Flutterでの開発を始めました。** Flutterは、豊富なウィジェットのライブラリや、ウィジェット同士の組み合わせによって柔軟にUIを構築できる点が魅力的です。

さらに、Flutterは、Dartというシンプルで使いやすい言語で書かれており、開発効率が非常に高いという点も魅力的です。また、Flutterはネイティブコードにコンパイルされるため、パフォーマンスが優れており、ユーザーにとっても良い体験を提供することができます。

以上のような理由から、初めてのモバイルアプリ開発にはFlutterを選択しました。

# 11. 今後について

課題点および実装したい機能については、以下の通りです。
1. アプリのレビューだけでなく、介護施設やイベントなどに赴いて、利用データを収集したいと考えます。その後、解析を行うことでユーザインタフェースの観点から改良を行いたいと考えます。 
   
2. 現状、最小限の機能をつけてアプリとして実装したので、今後はFirebaseと連携し、個々の病状に適応したカスタマイズ機能を実装したいと考えます。 
   
3. Firebaseを利用した安否確認システムの開発 
   
4. 構音障害における音声認識について、研究を深める。その後、特定の言葉を音声認識するエンジンを開発し､アプリに組み込みたいと考えます｡
   
5. 構音障害以外の障害を支援するアプリの開発

# 12. 最後に

今回、初めて企業様と連携してサービス開発を行いました。チームでの開発であったため、使用する言語やパッケージについてはチームで議論を重ねながら実装していくというプロセスを経験し、その中で多くのことを学びました。

特に、UIと機能の分割が重要であることを痛感しました。最初は、便利そうだからとりあえず実装するという考え方で取り組んでいたため、コードが汚くなってしまい修正に時間と労力を費やすことになってしまいました。しかし、その反省点を踏まえ、今後の開発に生かしていきたいと考えています。

今回の開発では、学びながら進めることができたため、実感が非常に強くあります。また、チームで協力しながら開発を行うことによって、自分の知識や技術に加えて、チームメンバーの知識や経験を取り入れることができたため、成長の機会にもなりました。

初めての記事でしたが、最後までお読みいただき、誠にありがとうございました。今後も、学びを重ねながら成長していきたいと思います。

[構音障害サポートアプリ-こえポン](https://apps.apple.com/au/app/id1672896276)

アプリの感想やバグ報告などもいただけると幸いです。

その際は、AppStoreにコメントをお願いします。